@model MetaData

<nav aria-label="Page navigation">
    <ul class="pagination">
        @if (Model != null)
        {
            <!-- Previous page link -->
            <li class="page-item @(Model.HasPrevious ? "" : "disabled")">
                <a class="page-link" href="#" onclick="handlePerPageSelectChangeListener(@(Model.CurrentPage - 1))">Previous</a>
            </li>

            <!-- First page link -->
            <li class="page-item @(1 == Model.CurrentPage ? "active" : "")">
                <a class="page-link" href="#" onclick="handlePerPageSelectChangeListener(1)">1</a>
            </li>

            <!-- Left ellipsis if needed -->
            @if (Model.CurrentPage > 4)
            {
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">...</a>
                </li>
            }

            <!-- Intermediate page links -->
            @for (int i = Math.Max(2, Model.CurrentPage - 2); i <= Math.Min(Model.TotalPages - 1, Model.CurrentPage + 2); i++)
            {
                <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                    <a class="page-link" href="#" onclick="handlePerPageSelectChangeListener(@i)">@i</a>
                </li>
            }

            <!-- Right ellipsis if needed -->
            @if (Model.TotalPages - Model.CurrentPage > 3)
            {
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">...</a>
                </li>
            }

            <!-- Last page link -->
            <li class="page-item @(Model.TotalPages == Model.CurrentPage ? "active" : "")">
                <a class="page-link" href="#" onclick="handlePerPageSelectChangeListener(@(Model.TotalPages))">@Model.TotalPages</a>
            </li>

            <!-- Next page link -->
            <li class="page-item @(Model.HasNext ? "" : "disabled")">
                <a class="page-link" href="#" onclick="handlePerPageSelectChangeListener(@(Model.CurrentPage + 1))">Next</a>
            </li>
        }
    </ul>
</nav>
